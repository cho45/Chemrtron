<!DOCTYPE html>
<html>
	<head>
		<title>Chemr [Chemrtron]: An Online Documentation Browser with Indexers.</title>
		<meta charset="utf-8"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
		<script src="bower_components/js-polyfills/polyfill.min.js"></script>
		<link rel="shortcut icon" href="img/icon_256x256.png" />
		<link rel="stylesheet" href="styles.css">

		<script>
		  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
		  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

		  ga('create', 'UA-7079167-13', 'auto');
		  ga('send', 'pageview');

		</script>
	</head>
	<body>
		<header>
			<h1>
				<img src="img/icon_256x256.png"
					width="128" height="128" style="position: relative; top: 20px"/>
				Chemr
			</h1>
			<div class="desc">An Online Documentation Browser with Built-In Indexers.</div>
		</header>

		<nav>
			<ul>
				<li><a href="#overview">Overview</a></li>
				<li><a href="#screenshots">Screenshots</a></li>
				<li><a href="#download">Download</a></li>
				<li><a href="#usage">Usage</a></li>
			</ul>
		</nav>


		<main role="main">
			<section id="overview">
				<h2>Overview</h2>
				<div class="list">
					<section>
						<h3>Incremental Search</h3>
						<img src="img/incremental.png"/>
						<p>
							Chemr has fuzzy matched incremental search.
							You can query any old how.
						</p>
					</section>
					<section>
						<h3>On-demand Indexers</h3>
						<img src="img/indexer.png"/>
						<p>
							Chemr includes indexing system for generating index.
							You can index any web sites on your demand.
						</p>
					</section>
					<section>
						<h3>Built on Electron</h3>
						<img src="img/builtonelectron.png"/>
						<p>
							Chemr is developed with standard web technologies: HTML, CSS, JavaScript.
							So you can modify this very easily.
						</p>
					</section>
				</div>
			</section>

			<section id="screenshots">
				<h2>Screenshots</h2>
				<div class="list">
					<section>
						<h3>OS X</h3>
						<img src="img/osx.png"/>
					</section>
					<section>
						<h3>Windows</h3>
						<img src="img/win.png"/>
					</section>
				</div>
			</section>

			<section id="download">
				<h2>Download</h2>

				<div class="list">
					<section>
						<h3>Build from source</h3>
						<p>Or create your own build with following:</p>

						<section>
							<h4>Install Development Tools</h4>
							<p>You must install <a href="https://nodejs.org/">node.js</a> and <a href="https://help.github.com/articles/set-up-git/">git</a>.</p>
						</section>

						<section>
							<h4>Install Electron and Build Tools</h4>
							<p>
								<kbd>npm -g install electron-prebuilt electron-packager electron-builder</kbd>
							</p>
						</section>
						
						<section>
							<h4>Clone Repository</h4>
								<p>
							<kbd>git clone https://github.com/cho45/Chemrtron.git</kbd>
							</p>
						</section>

						<section>
							<h4>Package</h4>
							<p>
								<kbd>sh dev/package.sh</kbd>
							</p>
							<p>Packaged application is located under <kbd>build/releases</kbd></p>
						</section>
					</section>
					<section>
						<h3>Packaged release</h3>
						<h4>For Mac</h4>
						<div style="text-align: center;">
							<a href="https://itunes.apple.com/jp/app/chemr/id1051159776?mt=12"><img src="img/Download_on_the_App_Store_Badge_US-UK_135x40.svg" alt="Download on the App Store"/></a>
						</div>
						<h4>For Windows or Mac</h4>
						<div style="text-align: center;">
							<a href="https://github.com/cho45/Chemrtron/releases">
								<img src="img/GitHub_Logo.png" alt="Download on GitHub" width="135" height="55"/>
							</a>
						</div>
					</section>
				</div>
			</section>


			<section id="usage">
				<h2>Usage</h2>

				<section>
					<h3>Introduction</h3>
					<ol>
						<li>Enable indexer at settings dialog.</li>
						<li>Start initial indexing by selecting icon.</li>
						<li>Ready to query.</li>
					</ol>
					<div class="img">
						<img src="./img/intro.gif"/>
					</div>
				</section>

				<section>
					<h3>Select Index</h3>
					<p>Press <kbd>Control + Enter</kbd> to open select index dialog.</p>
					<div class="img">
						<img src="./img/selectindex.gif"/>
					</div>
					<p>Or Alt + [Number] / Command + [Number] for selecting index directly.</p>
				</section>

				<section>
					<h3>Keyboard shortcuts</h3>
					<table>
						<tr>
							<th>Alt + Space</th>
							<td><b>(Global)</b> Default shortcut key for activating Chemr window. This is customizable on settings.</td>
						</tr>
						<tr>
							<th>&#8984;L<br/>
								Control + L</th>
							<td>Focus to query text area.</td>

						</tr>
						<tr>
							<th>
								Control + N<br/>
								&#8595;
							</th>
							<td>Select next item.</td>

						</tr>
						<tr>
							<th>
								Control + P<br/>
								&#8593;
							</th>
							<td>Select previous item.</td>

						</tr>
						<tr>
							<th>Control + U</th>
							<td>Clear current query.</td>

						</tr>
						<tr>
							<th>&#8984;&#8629;<br/>
								Control + Enter</th>
							<td>Open index selection dialog.</td>

						</tr>
						<tr>
							<th>&#8984;[<br/>
								Control + [</th>
							<td>Back navigation.</td>

						</tr>
						<tr>
							<th>&#8984;]<br/>
								Control + ]</th>
							<td>Forward navigation.</td>

						</tr>
						<tr>
							<th>&#8984;[Numer]<br/>
								Control + [Number]</th>
							<td>Select index by index.</td>
						</tr>
					</table>
				</section>

				<section>
					<h3>Reindex by hand</h3>
					<div class="img">
						<img src="./img/reindex.gif"/>
					</div>
					<p>To reindex by hand for updating to latest index. Right click or double click index icon and open menu by clicking gear icon.</p>
				</section>
			</section>

			<section id="indexers">
				<h2>Including Indexers</h2>
				<div class="list">
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/android.js">Android</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/arduino.js">Arduino</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/cpan.js">CPAN</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/ecma-262-3rd-ja.js">ECMAScript 3rd JA</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/elasticsearch.js">Elasticsearch</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/electron.js">Electron</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/golang.js">Go</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/html.js">HTML Standard</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/ios.js">iOS Developer Library</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/java.js">Java SE</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/mac.js">Mac Developer Library</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/mdn.js">MDN</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/mysql.js">MySQL</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/nodejs.js">Node.js</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/opengl.js">OpenGL</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/perl6.js">Perl6</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/php.js">PHP</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/polymer.js">Polymer Elements</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/ruby.js">Ruby</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/sqlite.js">SQLite</a>
					<a href="https://github.com/cho45/Chemrtron/tree/master/indexers/syoboi.js">しょぼいカレンダー</a>
				</div>
				<p>Or <a href="#create-indexer">you can write new indexer easily</a>.</p>
			</section>

			<section id="create-indexer">
				<h2>Create New Indexer</h2>
				<p>The indexer definition files is written in JavaScript and load from following paths:</p>
				<ol>
					<li><kbd>$HOME/.chemr/indexers/*.js</kbd></li>
					<li><kbd>$APP_ROOT/indexers/*.js</kbd></li>
				</ol>
				<p>You can put your own indexer to <kbd>$HOME/.chemer/indexers/</kbd>.</p>

				<aside>
					<h3>Note: OS X Sandbox</h3>
					<p>In OS X sandbox (packaged releases are in sandbox. electron command is not in sandbox), .chemr directory is located under <kbd>$HOME/Library/Containers/net.lowreal.Chemr/Data</kbd>.</p>
					<p>Run following commands for convenience:</p>
					<kbd>ln -s ~/Library/Containers/net.lowreal.Chemr/Data/.chemr ~/.chemr</kbd>
				</aside>

				<section>
					<h3>Indexer definition file</h3>
					<p>This is a sample indexer definition for PHP:</p>
					<pre><code class="javascript">
indexer = {
	id: 'php',
	name: 'PHP',

	index : function (ctx) {
		return ctx.fetchDocument('http://www.php.net/manual/en/indexes.functions.php', { srcdoc: true }).then(function (document) {
			console.log(document);

			var links = document.querySelectorAll('a.index');
			for (var i = 0, it; (it = links[i]); i++) {
				ctx.pushIndex(it.textContent, it.href);
			}
		});
	}
};
</code></pre>
					<dl>
						<dt><code>id : string</code></dt>
						<dd>
							Unique identifier for this indexer.
						</dd>
						<dt><code>name : string</code></dt>
						<dd>
							Display name. This is also used for indexer search.
						</dd>
						<dt><code>index : function(ctx: IndexerContext):Promise&lt;string | null&gt;</code></dt>
						<dd>
							A function for creating index. Index data is following format:
							<pre>
[Search string]\t[URI]
[Search string]\t[URI]
...
</pre>
							<p>Or you can use <kbd>pushIndex()</kbd> on IndexerContext instead of returning string.</p>
						</dd>
						<dt><code>beforeSearch : function(query : string): string</code></dt>
						<dd>
							A function for query translator.
						</dd>
						<dt><code>item : function(item: Item):Item</code></dt>
						<dd>
							Callback of item called when item will be shown.
						</dd>
					</dl>
				</section>

				<section>
					<h3>IndexerContext</h3>
					<p>IndexerContext is passed as <code>index()</code> argument.</p>
					<dl>
						<dt><code>pushIndex(name: string, url: string)</code></dt>
						<dd>
							Add specified index to current context index.
							You do not return any value from a promise returned from <code>index()</code>. Chemr will generate index string from current context index.
						</dd>

						<dt><code>fetchDocument(url: string: opts: Object):Promise&lt;HTMLDocument&gt;</code></dt>
						<dd>
							<p>Fetche a URL and create HTMLDocument.</p>

							<p>Specified URL is loaded to sandboxed iframe (scripting is disabled).</p>

							<p>You may encounter with error when the target URL issues <code>X-Frame-Options</code> header.
							This is restriction of iframe. You can ignore that error with specifing <code>srcdoc: true</code> option to <code>opts</code>.</p>

							<p>With <code>srcdoc: true</code> option, <code>fetchDocument()</code> fetches a URL by <code>fetchText()</code> and set its result to iframe's <code>srcdoc</code> attribute and
							append <code>&lt;base&gt;</code> element with target URL to <code>document.head</code>.
							This means <code>document.URL</code> is not more usable (this may be <code>about:srcdoc</code>). But you can load URLs which uses <code>X-Frame-Options</code>.</p>
						</dd>

						<dt><code>fetchJSON(url: string):Promise&lt;any&gt;</code></dt>
						<dd>
							Fetch a URL by <code>fetchText()</code> and parse with <code>JSON.parse</code>.
						</dd>

						<dt><code>fetchText(url: string):Promise&lt;string&gt;</code></dt>
						<dd>
							Fetche a URL and just resolves with its <code>responseText</code>.
						</dd>

						<dt><code>fetchAsXHR(opts: Object):Promise&lt;XMLHttpRequest&gt;</code></dt>
						<dd>
							This is raw method for <code>fetch*</code>.
						</dd>

						<dt><code>crawl(list: Array<string | object>, callback: function (url, doc: HTMLDocument):void):Promise&lt;any&gt;</code></dt>
						<dd>
							<p><code>crawl</code> can crawl specified <code>list</code> which is array of URLs and call <code>callback</code> with its document.</p>

							<p><code>callback</code> function is called with special <code>this</code> object which has <code>pushPage(url)</code> method. <code>pushPage(url)</code> adds to <code>url</code> to current crawl queue.</p>
						</dd>
					</dl>
				</section>
			</section>

			<section id="contrib">
				<h2>Contributing</h2>
				<p>Chemr is open source project. You can read whole code and submit patch any time.</p>
				<p>If you can contribute to Chemr, see also <a href="https://github.com/cho45/Chemrtron/blob/master/CONTRIBUTING.md">CONTRIBUTING.md</a>.</p>
			</section>

			<section id="support">
				<h2>Supports</h2>
				<p>Report to <a href="https://github.com/cho45/Chemrtron/issues">github issue</a>.</p>
			</section>

			<section id="privacy">
				<h2>Privacy Policy</h2>
				<p>Chemr does not collect any privacy information of users.</p>
			</section>


			<!-- section>
				<h2>Contributors</h2>

				<script src="githubapi.js" data-api="repos/cho45/Chemrtron/contributors?">
					<div class="contributors">
						<% for (var i = 0, it; (it = data[i]); i++) { %>
						<a href="http://github.com/<%= it.login %>" class="contributor">
							<img src="<%= it.avatar_url %>" width="24" height="24"/>
							<%= it.login %>
						</a>
						<% } %>
					</div>
				</script>
			</section -->
		</main>

		<footer>
			by cho45 &lt;<a href="http://www.lowreal.net">cho45@lowreal.net</a>&gt;
		</footer>


		<script src="script.js"></script>
		<a href="https://github.com/cho45/Chemrtron"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
	</body>
</html>
